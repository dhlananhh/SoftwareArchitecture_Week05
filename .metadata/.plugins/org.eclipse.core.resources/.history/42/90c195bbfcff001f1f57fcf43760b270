package iuh.fit.se.library;

public abstract class Book {
	private String title;
    private String author;
    private String genre;
    private boolean isBorrowed;

    public Book(String title, String author, String genre) {
		this.title = title;
		this.author = author;
		this.genre = genre;
		this.isBorrowed = false;
	}

	public String getTitle() {
        return title;
    }

    public String getAuthor() {
        return author;
    }
    
    public String getGenre() {
		return genre;
	}

	public void setGenre(String genre) {
		this.genre = genre;
	}

	public void setTitle(String title) {
		this.title = title;
	}

	public void setAuthor(String author) {
		this.author = author;
	}
	
	public boolean isBorrowed() {
		return isBorrowed;
	}

	protected void setBorrowed(boolean borrowed) { 
        isBorrowed = borrowed;
    }
	
	public abstract String getBookType(); // Abstract Method - Factory Method

    public void displayBookInfo() {
    	System.out.println("Tiêu đề: " + title + ", Tác giả: " + author + ", Thể loại: " + genre + ", Loại sách: " + getBookType() + ", Trạng thái mượn: " + (isBorrowed ? "Đang mượn" : "Có sẵn"));
    }
    
    public void borrow() { // Phương thức mượn sách (mặc định)
        if (!isBorrowed) {
            setBorrowed(true);
            System.out.println("Sách '" + title + "' đã được mượn.");
        } else {
            System.out.println("Sách '" + title + "' hiện đang được mượn và không có sẵn.");
        }
    }

    public void returnBook() { // Phương thức trả sách (mặc định)
        if (isBorrowed) {
            setBorrowed(false);
            System.out.println("Sách '" + title + "' đã được trả lại.");
        } else {
            System.out.println("Sách '" + title + "' hiện không ở trạng thái đang mượn.");
        }
    }
}
