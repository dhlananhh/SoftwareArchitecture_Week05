package iuh.fit.se.library;

import iuh.fit.se.library.search.*;
import java.util.List;
import iuh.fit.se.library.notification.*;

package com.example.library;

import java.util.List;

public class LibraryManagementSystem {
    public static void main(String[] args) {
        Library library = Library.getInstance(); // Lấy instance Singleton của thư viện

        // Tạo các sách mới (sử dụng Factory)
        Book book1 = BookFactory.createBook("Sách giấy", "Sherlock Holmes: A Study in Scarlet", "Arthur Conan Doyle", 250);
        Book book2 = BookFactory.createBook("Sách điện tử", "The Lord of the Rings", "J.R.R. Tolkien", "EPUB");
        Book book3 = BookFactory.createBook("Sách nói", "Pride and Prejudice", "Jane Austen", 12.5);
        Book book4 = BookFactory.createBook("Sách giấy", "The Hitchhiker's Guide to the Galaxy", "Douglas Adams", 224);


        // Thêm sách vào thư viện
        library.addBook(book1);
        library.addBook(book2);
        library.addBook(book3);

        // Hiển thị danh sách tất cả sách
        library.displayAllBooks();
        System.out.println("---");

        // Mượn sách
        library.borrowBook(book1);
        library.borrowBook(book4); // Thử mượn sách không có trong thư viện
        System.out.println("---");

        // Hiển thị lại danh sách sách sau khi mượn
        library.displayAllBooks();
        System.out.println("---");


        // Tìm kiếm sách theo tiêu đề
        System.out.println("Tìm kiếm sách theo tiêu đề 'Sherlock':");
        List<Book> searchResultsTitle = library.searchBookByTitle("Sherlock");
        searchResultsTitle.forEach(Book::displayBookInfo);
        System.out.println("---");


        // Tìm kiếm sách theo tác giả
        System.out.println("Tìm kiếm sách theo tác giả 'Tolkien':");
        List<Book> searchResultsAuthor = library.searchBookByAuthor("Tolkien");
        searchResultsAuthor.forEach(Book::displayBookInfo);
        System.out.println("---");


        // Tìm kiếm sách theo thể loại (giả sử bạn thêm thể loại cho các sách khi tạo, ví dụ: genre = "Trinh thám")
        // Vì ở trên chúng ta chưa thêm thể loại, nên sẽ demo sau khi thêm
        // ...

        // Trả sách
        library.returnBook(book1);
        System.out.println("---");

        // Hiển thị lại danh sách sách sau khi trả
        library.displayAllBooks();

    }
}